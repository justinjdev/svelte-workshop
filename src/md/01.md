---
title: Syntax!
description: Project structure! File structure! Triggering your OCD!
published: true
prev: 'preamble'
next: '02'
---

<script context="module">
    import BoundVariables from '$lib/components/examples/BoundVariables.svelte';
    import StyledDiv from '$lib/components/examples/StyledDiv.svelte';
    export { BoundVariables, StyledDiv };
</script>

## Sveltekit

This workshop is using the first-party metaframework for Svelte - Sveltekit. Sveltekit has excellent documentation and an online REPL that I will link to at times. You will also see me embedding various Svelte components as we move along.

### Some Svelte Conventions

- There _can be_ but there isn't typically (and doesn't really need to be) a global CSS file. Instead you will use the `:global(<selector>){}` syntax in layout files.

#### Anatomy of a Svelte file

```svelte
<!-- $lib/components/BudgetIdon.svelte -->
<script lang="ts">
	export let src: string;
	export let alt: string = '';
</script>

<img {src} {alt} />

<style>
	img {
		height: 15px;
	}
</style>
```

Svelte files will always end in `.svelte` and start with the `script` tag, followed by the `html` content, followed by the `style` css. Each of these sections is optional, including the HTML.

The `export` keyword in the script indicates exported values - typically these are the component props, although not always.

Looking at the HTML content here also notes a bit of Svelte syntactic sugar:

```svelte
<script lang="ts">
	function click(e) {
		console.log(e);
	}
</script>

<img {src} {alt} on:click />
```

Similar to other frameworks, if your variables or functions have the same names as the props, you can simply shorthand them like `{this}`. This works _sort of similarly_ Svelte directives sometimes, depending on the type. The Svelte plugin for `VS Code` will update this automatically if you set it to `Format on Save` so I won't spend too much time here.

On that note, Svelte components handle all the typical HTML events via the `on:<event>={callback}` prop:

```svelte
<!-- TextInput.svelte -->
<script lang="ts">
	export let placeholder: string;
	export let chngFn: (e: Event) => void;
</script>

<input type="text" {placeholder} on:change={chngFn} />
```

Svelte also supports _two-way data binding_ which has a similar shorthand as above when variable names match:

```svelte
<script lang="ts">
	export let placeholder: string;
	export let value: string;
</script>

<input type="text" {placeholder} bind:value />
```

If you really want to get crazy with _two-way data binding_, because who wouldn't, you can pass data up or down as far as you want:

```svelte
<script lang="ts">
	import TextInput from '$lib/components/examples/TextArea.svelte';
	import Division from '../Division.svelte';

	let value = 'Adrian Newey set to leave Red Bull Racing at the start of 2025.';
</script>

<Division />

<h4>These text areas are bound together, unlike Adrian Newey and Red Bull Racing!</h4>

<TextInput placeholder="This is useless" bind:value />

<TextInput placeholder="This is also useless" bind:value />

<Division />
```

<BoundVariables />

Svelte also provides logic blocks that you can use within your HTML markup, it is probably simplest to link to them [here](https://svelte.dev/docs/logic-blocks) and specifically note the `if` and `each` blocks:

```svelte
<script lang="ts">
    const colors = ['papaya', 'racing green'];
</script>

{#if someBool}
    <span>it's true!</span>
{/if}

{#each color of colors}
    <span>{color}</span>
{/each}
```

### Styles

CSS in Svelte (and Sveltekit) is scoped to the module by default, unless overriden with the `:global(<selector>)` keyword. Injecting CSS variables into the scope is done via the `style` prop on a given HTML element:

```svelte
<script lang="ts">
	const colors = [
		{ value: 'red', text: 'Red' },
		{ value: 'green', text: 'Green' },
		{ value: 'blue', text: 'Blue' }
	];

	let selectedColor = 'white';

	$: console.log(selectedColor);
</script>

<select name="colors" id="colors" on:change={(event) => (selectedColor = event.target.value)}>
	{#each colors as color}
		<option value={color.value}>{color.text}</option>
	{/each}
</select>

<div class="colored" style="--color:{selectedColor}"></div>

<style>
	.colored {
		width: 200px;
		height: 200px;
		border: 1px solid #ccc;
		border-radius: 5px;
		background-color: var(--color);
	}
</style>
```

<StyledDiv />
