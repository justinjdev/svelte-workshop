---
title: Welcome to Sveltekit!
subtitle: Project structure, loading, hooks!
objectives:
  - 'Introduction to a Sveltekit project.'
  - 'Loading in Sveltekit.'
  - 'Hooks.'
  - 'Error handling.'
published: true
prev: '01a'
next: '01e'
---

### Introduction to SvelteKit

SvelteKit is a framework for building web applications using Svelte. It extends the capabilities of Svelte by adding features necessary for building more complex, full-scale applications, such as server-side rendering, file-based routing, API endpoints, and more. SvelteKit aims to provide a smoother developer experience and enhance productivity with its integrated tooling and optimized project structure.

### Project Structure

A typical SvelteKit project is organized around a few key directories:

- `src/routes`: Contains your pages and their components. Each file or directory with an `.svelte` extension in this folder becomes a route based on its file name.
- `src/lib`: Recommended for reusable libraries and components. Components in this directory can be imported into your routes or other components.
- `src/hooks`: For server-side hooks that can manipulate requests and responses globally.

### Loading Data

In SvelteKit, data loading can be efficiently handled using load functions. These functions run on the server during server-side rendering and on the client during navigation. A load function can be exported from any page component or layout, where it has access to parameters like page `params` and session `data`, allowing it to fetch data that is specific to the current route.

```svelte
<script context="module">
	export async function load({ fetch, params }) {
		const response = await fetch(`/api/data/${params.id}`);
		return { props: { data: await response.json() } };
	}
</script>
```

### Layouts

Layouts in SvelteKit allow you to create common page templates that can be reused across multiple routes. This is useful for maintaining consistent design elements like headers, footers, and navigation bars. Layouts are Svelte components that use the `<slot>` element to render child content.

- `__layout.svelte`: The default layout applied to all routes in the same directory and its subdirectories, unless a more specific layout overrides it.

### Hooks

Hooks in SvelteKit are functions that run in response to lifecycle events on the server, such as handling requests and preparing responses. They are defined in the `src/hooks` directory.

- `handle()`: This hook can manipulate every request and its response. It's useful for custom authentication or logging.
- `getSession()`: Provides context that can be accessed on every server-side page render and in endpoints. It's often used for user sessions.

```svelte
// src/hooks.js
export async function handle({ request, resolve }) {
  const response = await resolve(request);
  // Modify the response here, e.g., set headers
  return response;
}

export function getSession(request) {
  return {
    user: request.locals.user
  };
}
```

### Errors

You can create a custom error page by adding a `+error.svelte` file in the `src/routes` directory. This special component receives an `error` object and a `status` code as props, which you can use to display appropriate error messages to the user.

Here's a simple example of an error page:

```svelte
<script lang="ts">
	export let error: Error;
	export let status: number;
</script>

<main>
	<h1>{status} Error</h1>
	<p>{error.message}</p>
</main>
```

In this example, the `+error.svelte` file defines a component that displays the error status and message. When an error occurs, SvelteKit automatically renders this page, passing the relevant `status` and `error` information. This setup helps in providing a better user experience by informing users clearly what went wrong, rather than leaving them with a generic browser error message.

For more details on handling errors and creating robust applications with SvelteKit, you can refer to the [official SvelteKit documentation](https://kit.svelte.dev/docs#layouts-error-pages).
